version: '3.6'
services:
  ums:
    container_name: ums
    build:
      context: ./ums/
      dockerfile: Dockerfile
    image: "ums:v1.0"
    restart: always
    environment:
      TZ: Asia/Shanghai
    networks:
      - devops_net

  service:
    container_name: service
    build:
      context: ./service/
      dockerfile: Dockerfile
    image: "service:v1.0"
    restart: always
    environment:
      TZ: Asia/Shanghai
    networks:
      - devops_net

  configure:
    container_name: configure
    build:
      context: ./configure/
      dockerfile: Dockerfile
    image: "configure:v1.0"
    restart: always
    volumes:
      - ./config/configure: configure/config
    environment:
      TZ: Asia/Shanghai
    networks:
      - devops_net

networks:
  devops_net:
    external:
      name: drive_devops_net
